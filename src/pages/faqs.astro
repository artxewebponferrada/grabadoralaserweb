---
import Layout from '../layouts/Layout.astro';
import PageSEO from '../components/PageSEO.astro';
import FaqSection from '../components/faq/FaqSection.astro';
import { faqSections } from '../data/faqs';

const schema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqSections.flatMap(section => 
    section.questions.map(q => ({
      "@type": "Question",
      "name": q.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": q.answer
      }
    }))
  )
};
---

<Layout>
  <PageSEO
    title="Preguntas Frecuentes sobre Grabadores Láser"
    description="Resolvemos tus dudas sobre grabadores láser. Encuentra respuestas a las preguntas más comunes sobre compra, uso y mantenimiento."
  />

  <script type="application/ld+json" set:html={JSON.stringify(schema)} />

  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <header class="text-center mb-12">
      <h1 class="text-4xl font-extrabold text-gray-900 mb-4">
        Preguntas Frecuentes
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Encuentra respuestas a las preguntas más comunes sobre grabadores láser, su uso y mantenimiento.
      </p>
    </header>

    <nav class="bg-white rounded-2xl p-6 shadow-sm mb-8">
      <h2 class="text-lg font-semibold text-gray-900 mb-4">Contenido</h2>
      <ul class="space-y-2">
        {faqSections.map((section) => (
          <li>
            <a
              href={`#${section.title.toLowerCase().replace(/\s+/g, '-')}`}
              class="text-primary-600 hover:text-primary-700 transition-colors"
            >
              {section.title}
            </a>
          </li>
        ))}
      </ul>
    </nav>

    {faqSections.map((section) => (
      <div id={section.title.toLowerCase().replace(/\s+/g, '-')}>
        <FaqSection {...section} />
      </div>
    ))}

    <footer class="bg-primary-50 rounded-2xl p-8 mt-12">
      <h2 class="text-xl font-semibold text-primary-900 mb-4">
        ¿No encuentras la respuesta que buscas?
      </h2>
      <p class="text-primary-700 mb-6">
        Contáctanos y nuestro equipo de expertos te ayudará a resolver todas tus dudas.
      </p>
      <a
        href="/contacto"
        class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full text-white bg-primary-600 hover:bg-primary-700 transition-colors"
      >
        Contactar
      </a>
    </footer>
  </div>
</Layout>